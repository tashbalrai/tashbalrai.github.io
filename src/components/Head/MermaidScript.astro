---
const {elementSelector} = Astro.props;
---
<vb-variable data-elementSelector={elementSelector}></script>
<script>
    import mermaid from 'mermaid';
    mermaid.initialize({ startOnLoad: false, theme: 'base', themeVariables: {
        primaryColor: '#dddddd',
        primaryTextColor: '#515151',
        primaryBorderColor: '#b4b4b4',
        secondaryColor: '#c5c1c1',
        lineColor: '#b4b4b4',
        textColor: '#515151',
    } });

    customElements.define('vb-variable', class extends HTMLElement {
        connectedCallback() {
            const elementSelector = this.dataset.elementselector as string;
            mermaid.run({
                nodes: document.querySelectorAll(elementSelector),
            })
        }
    });
</script>