---
const {elementSelector} = Astro.props;
---
<vb-variable data-elementSelector={elementSelector}></script>
<script>
    import mermaid from 'mermaid';
    mermaid.initialize({ startOnLoad: false, theme: 'base', themeVariables: {
        primaryColor: '#1d2d44',
        primaryTextColor: '#748cab',
        primaryBorderColor: '#748cab',
        secondaryColor: '#1d2d44',
        lineColor: '#748cab',
        textColor: '#748cab',
    } });

    customElements.define('vb-variable', class extends HTMLElement {
        connectedCallback() {
            const elementSelector = this.dataset.elementselector as string;
            mermaid.run({
                nodes: document.querySelectorAll(elementSelector),
            })
        }
    });
</script>